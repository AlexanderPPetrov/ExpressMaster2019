{"version":3,"sources":["../../../../src/graphql/resolvers/User/index.js"],"names":["Query","user","root","args","Promise","resolve","reject","User","findOne","exec","err","res","users","find","populate","Mutation","addUser","name","email","password","newUser","save","editUser","findOneAndUpdate","id","$set","deleteUser","findOneAndRemove"],"mappings":";;;;;;;AAKA;;;;AALA;;;AAIA;eAGe;AACXA,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAE,cAACC,IAAD,EAAOC,IAAP,EAAgB;AAClB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,uBAAKC,OAAL,CAAaL,IAAb,EAAmBM,IAAnB,CAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClCD,UAAAA,GAAG,GAAGJ,MAAM,CAACI,GAAD,CAAT,GAAiBL,OAAO,CAACM,GAAD,CAA3B;AACH,SAFD;AAGH,OAJM,CAAP;AAKH,KAPE;AAQHC,IAAAA,KAAK,EAAE,iBAAM;AACT,aAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,uBAAKM,IAAL,CAAU,EAAV,EACKC,QADL,GAEKL,IAFL,CAEU,UAACC,GAAD,EAAMC,GAAN,EAAc;AAChBD,UAAAA,GAAG,GAAGJ,MAAM,CAACI,GAAD,CAAT,GAAiBL,OAAO,CAACM,GAAD,CAA3B;AACH,SAJL;AAKH,OANM,CAAP;AAOH;AAhBE,GADI;AAmBXI,EAAAA,QAAQ,EAAE;AACNC,IAAAA,OAAO,EAAE,iBAACd,IAAD,QAAmC;AAAA,UAA3Be,IAA2B,QAA3BA,IAA2B;AAAA,UAArBC,KAAqB,QAArBA,KAAqB;AAAA,UAAdC,QAAc,QAAdA,QAAc;AACxC,UAAMC,OAAO,GAAG,IAAIb,cAAJ,CAAS;AAAEU,QAAAA,IAAI,EAAJA,IAAF;AAAQC,QAAAA,KAAK,EAALA,KAAR;AAAeC,QAAAA,QAAQ,EAARA;AAAf,OAAT,CAAhB;AAEA,aAAO,IAAIf,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCc,QAAAA,OAAO,CAACC,IAAR,CAAa,UAACX,GAAD,EAAMC,GAAN,EAAc;AACvBD,UAAAA,GAAG,GAAGJ,MAAM,CAACI,GAAD,CAAT,GAAiBL,OAAO,CAACM,GAAD,CAA3B;AACH,SAFD;AAGH,OAJM,CAAP;AAKH,KATK;AAUNW,IAAAA,QAAQ,EAAE,kBAACpB,IAAD,SAAmC;AAAA,UAA3Be,IAA2B,SAA3BA,IAA2B;AAAA,UAArBC,KAAqB,SAArBA,KAAqB;AAAA,UAAdC,QAAc,SAAdA,QAAc;AACzC,aAAO,IAAIf,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,uBAAKgB,gBAAL,CAAsB;AAACC,UAAAA,EAAE,EAAFA;AAAD,SAAtB,EAA4B;AAACC,UAAAA,IAAI,EAAE;AAACR,YAAAA,IAAI,EAAJA,IAAD;AAAOC,YAAAA,KAAK,EAALA,KAAP;AAAcC,YAAAA,QAAQ,EAARA;AAAd;AAAP,SAA5B,EAA6DV,IAA7D,CACI,UAACC,GAAD,EAAMC,GAAN,EAAc;AACVD,UAAAA,GAAG,GAAGJ,MAAM,CAACI,GAAD,CAAT,GAAiBL,OAAO,CAACM,GAAD,CAA3B;AACH,SAHL;AAKH,OANM,CAAP;AAOH,KAlBK;AAmBNe,IAAAA,UAAU,EAAE,oBAACxB,IAAD,EAAOC,IAAP,EAAgB;AACxB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,uBAAKoB,gBAAL,CAAsBxB,IAAtB,EAA4BM,IAA5B,CAAiC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3CD,UAAAA,GAAG,GAAGJ,MAAM,CAACI,GAAD,CAAT,GAAiBL,OAAO,CAACM,GAAD,CAA3B;AACH,SAFD;AAGH,OAJM,CAAP;AAKH;AAzBK;AAnBC,C","sourcesContent":["/**\n * Created by alexanderpetrov on 24.03.19.\n */\n\n// User schema.\nimport User from \"../../../models/Users\";\n\nexport default {\n    Query: {\n        user: (root, args) => {\n            return new Promise((resolve, reject) => {\n                User.findOne(args).exec((err, res) => {\n                    err ? reject(err) : resolve(res);\n                });\n            });\n        },\n        users: () => {\n            return new Promise((resolve, reject) => {\n                User.find({})\n                    .populate()\n                    .exec((err, res) => {\n                        err ? reject(err) : resolve(res);\n                    });\n            });\n        }\n    },\n    Mutation: {\n        addUser: (root, {name, email, password}) => {\n            const newUser = new User({ name, email, password});\n\n            return new Promise((resolve, reject) => {\n                newUser.save((err, res) => {\n                    err ? reject(err) : resolve(res);\n                });\n            });\n        },\n        editUser: (root, {name, email, password}) => {\n            return new Promise((resolve, reject) => {\n                User.findOneAndUpdate({id}, {$set: {name, email, password}}).exec(\n                    (err, res) => {\n                        err ? reject(err) : resolve(res);\n                    }\n                );\n            });\n        },\n        deleteUser: (root, args) => {\n            return new Promise((resolve, reject) => {\n                User.findOneAndRemove(args).exec((err, res) => {\n                    err ? reject(err) : resolve(res);\n                });\n            });\n        }\n    }\n};"],"file":"index.js"}