{"version":3,"sources":["../../../../src/graphql/resolvers/Game/index.js"],"names":["Query","game","root","args","Promise","resolve","reject","Game","findOne","exec","err","res","games","find","populate","Mutation","addGame","id","name","description","image","newGame","save","editGame","findOneAndUpdate","$set","deleteGame","findOneAndRemove"],"mappings":"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","sourcesContent":["/**\n * Created by alexanderpetrov on 24.03.19.\n */\n\n// Game schema.\nimport Game from \"../../../models/Games\";\n\nexport default {\n    Query: {\n        game: (root, args) => {\n            return new Promise((resolve, reject) => {\n                Game.findOne(args).exec((err, res) => {\n                    err ? reject(err) : resolve(res);\n                });\n            });\n        },\n        games: () => {\n            return new Promise((resolve, reject) => {\n                Game.find({})\n                    .populate()\n                    .exec((err, res) => {\n                        err ? reject(err) : resolve(res);\n                    });\n            });\n        }\n    },\n    Mutation: {\n        addGame: (root, {id, name, description, image}) => {\n            const newGame = new Game({id, name, description, image});\n\n            return new Promise((resolve, reject) => {\n                newGame.save((err, res) => {\n                    err ? reject(err) : resolve(res);\n                });\n            });\n        },\n        editGame: (root, {id, name, description, image}) => {\n            return new Promise((resolve, reject) => {\n                Game.findOneAndUpdate({id}, {$set: {name, description, image}}).exec(\n                    (err, res) => {\n                        err ? reject(err) : resolve(res);\n                    }\n                );\n            });\n        },\n        deleteGame: (root, args) => {\n            return new Promise((resolve, reject) => {\n                Game.findOneAndRemove(args).exec((err, res) => {\n                    err ? reject(err) : resolve(res);\n                });\n            });\n        }\n    }\n};"],"file":"index.js"}